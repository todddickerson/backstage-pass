<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <title><%= content_for(:title) || "Backstage Pass - Creator Marketplace" %></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
  </head>

  <body class="bg-gray-50">
    <!-- Public Navigation -->
    <nav class="bg-white shadow">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex h-16 justify-between">
          <div class="flex">
            <!-- Logo -->
            <div class="flex flex-shrink-0 items-center">
              <%= link_to root_path, class: "text-xl font-bold text-purple-600" do %>
                Backstage Pass
              <% end %>
            </div>
            
            <!-- Navigation Links -->
            <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
              <%= link_to "Explore", explore_spaces_path, 
                  class: "inline-flex items-center border-b-2 #{current_page?(explore_spaces_path) ? 'border-purple-500 text-gray-900' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'} px-1 pt-1 text-sm font-medium" %>
            </div>
          </div>
          
          <!-- Right side navigation -->
          <div class="hidden sm:ml-6 sm:flex sm:items-center space-x-4">
            <% if user_signed_in? %>
              <%= link_to "Dashboard", account_dashboard_path, 
                  class: "text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium" %>
              <%= link_to "Sign Out", destroy_user_session_path, 
                  data: { "turbo-method": :delete },
                  class: "text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium" %>
            <% else %>
              <%= link_to "Sign In", new_user_session_path, 
                  class: "text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium" %>
              <%= link_to "Sign Up", new_user_registration_path, 
                  class: "bg-purple-600 text-white hover:bg-purple-700 px-4 py-2 rounded-md text-sm font-medium" %>
            <% end %>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main>
      <%= yield %>
    </main>

    <!-- Footer -->
    <footer class="bg-white mt-16">
      <div class="mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8">
        <div class="border-t border-gray-200 pt-8">
          <p class="text-center text-sm text-gray-500">
            &copy; <%= Date.current.year %> Backstage Pass. All rights reserved.
          </p>
        </div>
      </div>
    </footer>
  </body>
</html>